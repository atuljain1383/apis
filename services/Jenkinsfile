pipeline{
    agent any
    stages{
        stage("get checkout"){
            steps{
                git credentialsId: 'GitHub', url: 'https://github.com/atuljain1383/apis.git'
            }
        }
        stage("build"){
            steps{
                echo 'build started...'
            }
        }
        stage("create images"){
            steps{
                sh "sudo docker-compose -f /var/lib/jenkins/workspace/Microservices/services/docker-compose.yml build"
            }
        }
        stage('Push Docker Image'){
           steps{
               sh "sudo docker login -u atuljain1383 -p Ishika@2sep"
               sh 'sudo docker-compose -f /var/lib/jenkins/workspace/Microservices/services/docker-compose.yml push'
           }
                
        }        
    }

}